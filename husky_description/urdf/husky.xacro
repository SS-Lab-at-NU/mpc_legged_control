<?xml version="1.0" encoding="utf-8"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="husky">

  <!--aug 17 husky a, fixed inertias, fixedJointLumping, joint Limits-->

  <xacro:arg name="robot_type" default="husky"/>

  <xacro:property name="motor_damping" value="0.1" />
  <xacro:property name="free_joint_damping" value="0.0005" />

  <xacro:property name="motor_sfriction" value="0.2" />
  <xacro:property name="free_joint_sfriction" value="0.0005" />
  
  <xacro:property name="efflim" value="33.5" />

  <xacro:property name="r_hip_frontal_ipos" value="${-10*pi/180}" />
  <xacro:property name="r_hip_frontal_lowlim" value="${-5*pi/180}" />
  <xacro:property name="r_hip_frontal_uplim" value="0" />
  <xacro:property name="l_hip_frontal_ipos" value="${-170*pi/180}" />
  <xacro:property name="l_hip_frontal_lowlim" value="0" />
  <xacro:property name="l_hip_frontal_uplim" value="${5*pi/180}" />

  <xacro:property name="r_axis" value="1" />
  <xacro:property name="l_axis" value="1" />

  <gazebo>
  <plugin filename="liblegged_hw_sim.so" name="gazebo_ros_control">
    <robotNamespace>/</robotNamespace>
    <robotParam>legged_robot_description</robotParam>
    <robotSimType>legged_gazebo/LeggedHWSim</robotSimType>
  </plugin> 
  -->
  
  <plugin filename="libgazebo_ros_p3d.so" name="p3d_base_controller">
    <alwaysOn>true</alwaysOn>
    <updateRate>250.0</updateRate>    
    <bodyName>base</bodyName>
    <topicName>ground_truth/state</topicName>
    <gaussianNoise>0</gaussianNoise>
    <frameName>world</frameName>  
    <xyzOffsets>0 0 0</xyzOffsets>
    <rpyOffsets>0 0 0</rpyOffsets>
  </plugin>  


  <plugin name="gazebo_ros_control_0" filename="libgazebo_ros_control.so">
    <robotNamespace>/husky</robotNamespace>
    <robotParam>robot_description</robotParam>
	</plugin>
  -->
  </gazebo>

  <!-- Imu is fixed to the base link -->
  <joint name="unitree_imu_joint" type="fixed">
    <origin rpy="0. 0. 0." xyz="0. 0. 0."/>
    <parent link="base"/>
    <child link="unitree_imu"/>
  </joint>
  <!-- Imu link -->
  <link name="unitree_imu">
    <inertial>
      <mass value="0.01"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.000001" ixy="0" ixz="0" iyy="0.000001" iyz="0" izz="0.000001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.015 0.015 0.004"/>
      </geometry>
    </visual>
  </link>
  <gazebo reference="unitree_imu">
    <material>Gazebo/Orange</material>
  </gazebo>
  <gazebo reference="unitree_imu_joint">
    <disableFixedJointLumping>true</disableFixedJointLumping>
  </gazebo>

<!--HUSSAIN SENSORS BEGIN-->
  <!-- Imu is fixed to the base link -->
  <joint name="hussain_imu_joint" type="fixed">
    <origin rpy="0. 0. 0." xyz="0. 0. 0."/>
    <parent link="base"/>
    <child link="hussain_imu"/>
  </joint>
  <!-- Imu link -->
  <link name="hussain_imu">
    <inertial>
      <mass value="0.01"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.000001" ixy="0" ixz="0" iyy="0.000001" iyz="0" izz="0.000001"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.015 0.015 0.004"/>
      </geometry>
    </visual>
  </link>
  <gazebo reference="hussain_imu_joint">
    <disableFixedJointLumping>true</disableFixedJointLumping>
  </gazebo>
  
  <gazebo reference="hussain_imu">
    <gravity>true</gravity>
    <sensor name="imu_sensor" type="imu">
      <always_on>true</always_on>
      <update_rate>250</update_rate>
      <visualize>true</visualize>
      <topic>__default_topic__</topic>
      <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">
        <topicName>imu_link</topicName>
        <bodyName>hussain_imu</bodyName>
        <updateRateHZ>250.0</updateRateHZ>
        <gaussianNoise>0.0</gaussianNoise>
        <xyzOffset>0 0 0</xyzOffset>
        <rpyOffset>0 0 0</rpyOffset>
        <frameName>hussain_imu</frameName>
        <initialOrientationAsReference>false</initialOrientationAsReference>
      </plugin>
      <pose>0 0 0 3.141593 0 0</pose>
    </sensor>
  </gazebo>
<!--HUSSAIN SENSORS END-->

  <joint name="RF_HAA" type="revolute">
    <parent link="base"/>
    <child link="RF_hip"/>
    <origin rpy="-1.5708 ${r_hip_frontal_ipos} -1.5708"    xyz="0.2087 -0.045 0.0001"/>
    <axis xyz="0.0 0.0 1.0" />
    <dynamics damping="${motor_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${r_hip_frontal_lowlim}" upper="${r_hip_frontal_uplim}" velocity="8.7267"/>
  </joint>
  
  <joint name="LF_HAA" type="revolute">
    <parent link="base"/>
    <child link="LF_hip"/>
    <origin rpy="-1.5708 ${l_hip_frontal_ipos} -1.5708"    xyz="0.2087 0.045 0.0001"/>
    <axis xyz="0.0 0.0 1.0" />
    <dynamics damping="${motor_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${l_hip_frontal_lowlim}" upper="${l_hip_frontal_uplim}" velocity="8.7267"/>
  </joint>
  
  <joint name="LH_HAA" type="revolute">
    <parent link="base"/>
    <child link="LH_hip"/>
    <origin rpy="-1.5708 ${l_hip_frontal_ipos} -1.5708"    xyz="-0.1862 0.045 0.0002"/>
    <axis xyz="0 0 1" />
    <dynamics damping="${motor_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${l_hip_frontal_lowlim}" upper="${l_hip_frontal_uplim}" velocity="8.7267"/>
  </joint>
  
  <joint name="RH_HAA" type="revolute">
    <parent link="base"/>
    <child link="RH_hip"/>
    <origin rpy="-1.5708 ${r_hip_frontal_ipos} -1.5708"    xyz="-0.1862 -0.045 0.0002"/>
    <axis xyz="0 0 1" />
    <dynamics damping="${motor_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${r_hip_frontal_lowlim}" upper="${r_hip_frontal_uplim}" velocity="8.7267"/>
  </joint>

  <!--hip sag ipos -121.61 r -58.39 l-->
  <xacro:property name="fr_hip_sagittal_ipos" value="${-121.61*pi/180}" />
  <xacro:property name="fr_hip_sagittal_lowlim" value="${-12*pi/180}" />
  <xacro:property name="fr_hip_sagittal_uplim" value="0" />
  <xacro:property name="fl_hip_sagittal_ipos" value="${-58.39*pi/180}" />
  <xacro:property name="fl_hip_sagittal_lowlim" value="0" />
  <xacro:property name="fl_hip_sagittal_uplim" value="${12*pi/180}" />

  <!--hip sag ipos -131.32 r -48.68 l-->
  <xacro:property name="br_hip_sagittal_ipos" value="${-131.32*pi/180}" />
  <xacro:property name="br_hip_sagittal_lowlim" value="${-12*pi/180}" />
  <xacro:property name="br_hip_sagittal_uplim" value="0" />
  <xacro:property name="bl_hip_sagittal_ipos" value="${-48.68*pi/180}" />
  <xacro:property name="bl_hip_sagittal_lowlim" value="0" />
  <xacro:property name="bl_hip_sagittal_uplim" value="${12*pi/180}" />

  <joint name="RF_HFE" type="revolute">
    <parent link="RF_hip"/>
    <child link="RF_thigh"/>
    <origin rpy="-1.5708 ${fr_hip_sagittal_ipos} -1.5708"   xyz="0.1031 0.0 0.0"/>
    <axis xyz="0.0 0 ${r_axis}" />
    <dynamics damping="${motor_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${fr_hip_sagittal_lowlim}" upper="${fr_hip_sagittal_uplim}" velocity="8.7267"/>
  </joint>
  
  <joint name="LF_HFE" type="revolute">
    <parent link="LF_hip"/>
    <child link="LF_thigh"/>
    <origin rpy="-1.5708 ${fl_hip_sagittal_ipos} -1.5708"   xyz="0.1031 0.0 0.0"/>
    <axis xyz="0 0.0 ${l_axis}" />
    <dynamics damping="${motor_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${fl_hip_sagittal_lowlim}" upper="${fl_hip_sagittal_uplim}" velocity="8.7267"/>
  </joint>
  
  <joint name="LH_HFE" type="revolute">
    <parent link="LH_hip"/>
    <child link="LH_thigh"/>
    <origin rpy="-1.5708 ${bl_hip_sagittal_ipos} -1.5708"   xyz="0.1031 0.0 0.0"/>
    <axis xyz="0.0 0.0 ${l_axis}" />
    <dynamics damping="${motor_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${bl_hip_sagittal_lowlim}" upper="${bl_hip_sagittal_uplim}" velocity="8.7267"/>
  </joint>
  
  <joint name="RH_HFE" type="revolute">
    <parent link="RH_hip"/>
    <child link="RH_thigh"/>
    <origin rpy="-1.5708 ${br_hip_sagittal_ipos} -1.5708"   xyz="0.1031 0.0 0.0"/>
    <axis xyz="0.0 0 ${r_axis}" />
    <dynamics damping="${motor_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${br_hip_sagittal_lowlim}" upper="${br_hip_sagittal_uplim}" velocity="8.7267"/>
  </joint>

  <xacro:property name="r_knee_ipos" value="${-138.16*pi/180}" />  
  <xacro:property name="r_knee_lowlim" value="-0" />
  <xacro:property name="r_knee_uplim" value="${60*pi/180}" />
  <xacro:property name="l_knee_ipos" value="${138.16*pi/180}" />
  <xacro:property name="l_knee_lowlim" value="${-60*pi/180}" />
  <xacro:property name="l_knee_uplim" value="0" />

  <joint name="RF_KFE" type="revolute">
    <parent link="RF_thigh"/>
    <child link="RF_calf"/>
    <origin rpy="0 0 ${r_knee_ipos}"   xyz="0.18 0.0 -0.0431"/>
    <axis xyz="0.0 0.0 ${r_axis}" />
    <dynamics damping="${motor_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${r_knee_lowlim}" upper="${r_knee_uplim}" velocity="8.7267"/>
  </joint>
  
  <joint name="LF_KFE" type="revolute">
    <parent link="LF_thigh"/>
    <child link="LF_calf"/>
    <origin rpy="0 0 ${l_knee_ipos}"   xyz="0.18 0.0 -0.0431"/>
    <axis xyz="0.0 0.0 ${l_axis}" />
    <dynamics damping="${motor_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${l_knee_lowlim}" upper="${l_knee_uplim}" velocity="8.7267"/>
  </joint>
  
  <joint name="LH_KFE" type="revolute">
    <parent link="LH_thigh"/>
    <child link="LH_calf"/>
    <origin rpy="0 0 ${l_knee_ipos}"   xyz="0.18 0.0 -0.0431"/>
    <axis xyz="0.0 0.0 ${l_axis}" />
    <dynamics damping="${motor_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${l_knee_lowlim}" upper="${l_knee_uplim}" velocity="8.7267"/>
  </joint>
  
  <joint name="RH_KFE" type="revolute">
    <parent link="RH_thigh"/>
    <child link="RH_calf"/>
    <origin rpy="0 0 ${r_knee_ipos}"   xyz="0.18 0.0 -0.0431"/>
    <axis xyz="0.0 0.0 ${r_axis}" />
    <dynamics damping="${motor_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${r_knee_lowlim}" upper="${r_knee_uplim}" velocity="8.7267"/>
  </joint>

  <!--ANKLES-->

  <xacro:property name="l_ankle_lowlim" value="${-90*pi/180}" />
  <xacro:property name="l_ankle_uplim" value="${90*pi/180}" />
  <xacro:property name="r_ankle_lowlim" value="${-90*pi/180}" />
  <xacro:property name="r_ankle_uplim" value="${90*pi/180}" />

  <!--REAL FOOT SECTION 1/3 (COMMENT THIS IN, COMMENT BELOW OUT)-->
  <joint name="RF_ankle" type="revolute">
    <parent link="RF_calf"/>
    <child link="RF_fut"/>
    <origin rpy="0 0 ${l_knee_ipos}"   xyz="0.333 0.0 0.0"/>
    <axis xyz="0.0 0.0 1.0" />
    <dynamics damping="${free_joint_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${r_ankle_lowlim}" upper="${r_ankle_uplim}" velocity="8.7267"/>
  </joint>
  
  <joint name="LF_ankle" type="revolute">
    <parent link="LF_calf"/>
    <child link="LF_fut"/>
    <origin rpy="0 0 ${r_knee_ipos}"   xyz="0.333 0.0 0.0"/>
    <axis xyz="0.0 0.0 1.0" />
    <dynamics damping="${free_joint_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${l_ankle_lowlim}" upper="${l_ankle_uplim}" velocity="8.7267"/>
  </joint>
  
  <joint name="LH_ankle" type="revolute">
    <parent link="LH_calf"/>
    <child link="LH_fut"/>
    <origin rpy="0 0 ${r_knee_ipos}"   xyz="0.333 0.0 0.0"/>
    <axis xyz="0.0 0.0 1.0" />
    <dynamics damping="${free_joint_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${l_ankle_lowlim}" upper="${l_ankle_uplim}" velocity="8.7267"/>
  </joint>
  
  <joint name="RH_ankle" type="revolute">
    <parent link="RH_calf"/>
    <child link="RH_fut"/>
    <origin rpy="0 0 ${l_knee_ipos}"   xyz="0.333 0.0 0.0"/>
    <axis xyz="0.0 0.0 1.0" />
    <dynamics damping="${free_joint_damping}" friction="${motor_sfriction}"/>
    <limit effort="${efflim}" lower="${r_ankle_lowlim}" upper="${r_ankle_uplim}" velocity="8.7267"/>
  </joint>

  <joint name="RF_foot_fixed" type="fixed">
    <parent link="RF_fut"/>
    <child link="RF_FOOT"/>
    <origin rpy="0 0 0"   xyz="0.0 0.0 0.0"/>
  </joint>
  
  <joint name="LF_foot_fixed" type="fixed">
    <parent link="LF_fut"/>
    <child link="LF_FOOT"/>
    <origin rpy="0 0 0"   xyz="0.0 0.0 0.0"/>
  </joint>
  
  <joint name="LH_foot_fixed" type="fixed">
    <parent link="LH_fut"/>
    <child link="LH_FOOT"/>
    <origin rpy="0 0 0"   xyz="0.0 0.0 0.0"/>
  </joint>
  
  <joint name="RH_foot_fixed" type="fixed">
    <parent link="RH_fut"/>
    <child link="RH_FOOT"/>
    <origin rpy="0 0 0"   xyz="0.0 0.0 0.0"/>
  </joint>

  <gazebo reference="RF_foot_fixed">
    <disableFixedJointLumping>false</disableFixedJointLumping>
  </gazebo>

  <gazebo reference="LF_foot_fixed">
    <disableFixedJointLumping>false</disableFixedJointLumping>
  </gazebo>

  <gazebo reference="LH_foot_fixed">
    <disableFixedJointLumping>false</disableFixedJointLumping>
  </gazebo>

  <gazebo reference="RH_foot_fixed">
    <disableFixedJointLumping>false</disableFixedJointLumping>
  </gazebo>
  

  <!--LINKS-->  
  <link name="base">
    <inertial>
      <mass value="3.1895"/> 
      <origin rpy="0.0 0.0 -1.5708" xyz="-0.0301 0 0.0241"/>
      <inertia ixx="0.0170990623" ixy="3.09e-08" ixz="-5.394e-07" iyy="0.0115476717" iyz="4.77948e-05" izz="0.0268461573"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.3 0.1 0.12"/>
      </geometry>
    </collision>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.1"/>
      <geometry>
        <box size="0.4 0.16 0.28"/>
      </geometry>
    </collision>
    <visual name="base_visual">
      <origin rpy="-1.5708 0.0 1.5708" xyz=".212 -.258 0.128"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/body_link_prop_part_bin.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.251 0.251 0.251 1.0"/>
      </material>
    </visual>
  </link>

  <xacro:property name="hip_ix" value="0.02" />
  <xacro:property name="hip_length" value="0.08" />
  <xacro:property name="hip_radius" value="0.03" />

  <link name="RF_hip">
    <inertial>
      <mass value="0.295"/>
      <origin rpy="3.1416 0.0 0.0" xyz="0.0236 0 0"/>
      <inertia ixx="0.000402747" ixy="8.709e-06" ixz="-2.97e-07" iyy="0.000691123" iyz="5.45e-07" izz="0.000487919"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${hip_ix} 0 0"/>
      <geometry>
        <cylinder length="${hip_length}" radius="${hip_radius}"/>
      </geometry>
    </collision>
    <visual name="RF_hip_visual">
      <origin rpy="3.1416 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_hip.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>

  <link name="LF_hip">
    <inertial>
      <mass value="0.295"/>
      <origin rpy="3.1416 0.0 0.0" xyz="0.0236 0 0"/>
      <inertia ixx="0.000402747" ixy="8.709e-06" ixz="-2.97e-07" iyy="0.000691123" iyz="5.45e-07" izz="0.000487919"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${hip_ix} 0 0"/>
      <geometry>
        <cylinder length="${hip_length}" radius="${hip_radius}"/>
      </geometry>
    </collision>
    <visual name="LF_hip_visual">
      <origin rpy="3.1416 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/bl_hip.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>

  <link name="LH_hip">
    <inertial>
      <mass value="0.295"/>
      <origin rpy="3.1416 0.0 0.0" xyz="0.0236 0 0"/>
      <inertia ixx="0.000402747" ixy="8.709e-06" ixz="-2.97e-07" iyy="0.000691123" iyz="5.45e-07" izz="0.000487919"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${hip_ix} 0 0"/>
      <geometry>
        <cylinder length="${hip_length}" radius="${hip_radius}"/>
      </geometry>
    </collision>
    <visual name="LH_hip_visual">
      <origin rpy="3.1416 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/bl_hip.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>

  <link name="RH_hip">
    <inertial>
      <mass value="0.295"/>
      <origin rpy="3.1416 0.0 0.0" xyz="0.0236 0 0"/>
      <inertia ixx="0.000402747" ixy="8.709e-06" ixz="-2.97e-07" iyy="0.000691123" iyz="5.45e-07" izz="0.000487919"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${hip_ix} 0 0"/>
      <geometry>
        <cylinder length="${hip_length}" radius="${hip_radius}"/>
      </geometry>
    </collision>
    <visual name="RH_hip_visual">
      <origin rpy="3.1416 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_hip.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>

  <gazebo reference="RF_hip">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="LF_hip">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="LH_hip">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="RH_hip">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <material>Gazebo/DarkGrey</material>
  </gazebo>

  <xacro:property name="femur_ix" value="0.09" />
  <xacro:property name="femur_length" value="0.20" />
  <xacro:property name="femur_radius" value="0.01" />
  
  <xacro:property name="femur_n1_iz" value="-0.01" />
  <xacro:property name="femur_n1_length" value="0.06" />
  <xacro:property name="femur_n1_radius" value="0.03" />

  <xacro:property name="femur_n2_ix" value="0.18" />
  <xacro:property name="femur_n2_iz" value="-0.005" />
  <xacro:property name="femur_n2_length" value="0.05" />
  <xacro:property name="femur_n2_radius" value="0.03" />

  <link name="RF_thigh">
    <inertial>
      <mass value="0.3189"/> 
      <origin rpy="0 ${90/180*pi} 0" xyz="0.1027 0.0 0.0"/>
      <inertia ixx="0.0008" ixy="0" ixz="0" iyy="0.0007" iyz="0" izz="0.0005"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 ${femur_n1_iz}"/>
      <geometry>
        <cylinder length="${femur_n1_length}" radius="${femur_n1_radius}"/>
      </geometry>
    </collision>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${femur_ix} 0 0"/>
      <geometry>
        <cylinder length="${femur_length}" radius="${femur_radius}"/>
      </geometry>
    </collision>
    <collision>
      <origin rpy="0.0 0.0 0.0" xyz="${femur_n2_ix} 0 ${femur_n2_iz}"/>
      <geometry>
        <cylinder length="${femur_n2_length}" radius="${femur_n2_radius}"/>
      </geometry>
    </collision>
    <visual name="RF_thigh_visual">
      <origin rpy="-1.5708 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_femur.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="1.0 1.0 1.0 1.0"/>
      </material>
    </visual>
  </link>

  <link name="LF_thigh">
    <inertial>
      <mass value="0.3189"/> 
      <origin rpy="0.0 ${90/180*pi} 0.0" xyz="0.1027 0.0 0.0"/>
      <inertia ixx="0.0008" ixy="0" ixz="0" iyy="0.0007" iyz="0" izz="0.0005"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 ${femur_n1_iz}"/>
      <geometry>
        <cylinder length="${femur_n1_length}" radius="${femur_n1_radius}"/>
      </geometry>
    </collision>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${femur_ix} 0 0"/>
      <geometry>
        <cylinder length="${femur_length}" radius="${femur_radius}"/>
      </geometry>
    </collision>
    <collision>
      <origin rpy="0.0 0.0 0.0" xyz="${femur_n2_ix} 0 ${femur_n2_iz}"/>
      <geometry>
        <cylinder length="${femur_n2_length}" radius="${femur_n2_radius}"/>
      </geometry>
    </collision>
    <visual name="LF_thigh_visual">
      <origin rpy="0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/bl_femur.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="1.0 1.0 1.0 1.0"/>
      </material>
    </visual>
  </link>

  <link name="LH_thigh">
    <inertial>
      <mass value="0.3189"/> 
      <origin rpy="0.0 ${90/180*pi} 0.0" xyz="0.1027 0.0 0.0"/>
      <inertia ixx="0.0008" ixy="0" ixz="0" iyy="0.0007" iyz="0" izz="0.0005"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 ${femur_n1_iz}"/>
      <geometry>
        <cylinder length="${femur_n1_length}" radius="${femur_n1_radius}"/>
      </geometry>
    </collision>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${femur_ix} 0 0"/>
      <geometry>
        <cylinder length="${femur_length}" radius="${femur_radius}"/>
      </geometry>
    </collision>
    <collision>
      <origin rpy="0.0 0.0 0.0" xyz="${femur_n2_ix} 0 ${femur_n2_iz}"/>
      <geometry>
        <cylinder length="${femur_n2_length}" radius="${femur_n2_radius}"/>
      </geometry>
    </collision>
    <visual name="LH_thigh_visual">
      <origin rpy="0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/bl_femur.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="1.0 1.0 1.0 1.0"/>
      </material>
    </visual>
  </link>

  <link name="RH_thigh">
    <inertial>
      <mass value="0.3189"/> 
      <origin rpy="0.0 ${90/180*pi} 0.0" xyz="0.1027 0.0 0.0"/>
      <inertia ixx="0.0008" ixy="0" ixz="0" iyy="0.0007" iyz="0" izz="0.0005"/>
    </inertial>
    <collision>
      <origin rpy="0.0 0.0 0.0" xyz="0 0 ${femur_n1_iz}"/>
      <geometry>
        <cylinder length="${femur_n1_length}" radius="${femur_n1_radius}"/>
      </geometry>
    </collision>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${femur_ix} 0 0"/>
      <geometry>
        <cylinder length="${femur_length}" radius="${femur_radius}"/>
      </geometry>
    </collision>
    <collision>
      <origin rpy="0.0 0.0 0.0" xyz="${femur_n2_ix} 0 ${femur_n2_iz}"/>
      <geometry>
        <cylinder length="${femur_n2_length}" radius="${femur_n2_radius}"/>
      </geometry>
    </collision>
    <visual name="RH_thigh_visual">
      <origin rpy="-1.5708 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_femur.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="1.0 1.0 1.0 1.0"/>
      </material>
    </visual>
  </link>

  <gazebo reference="RF_thigh">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <self_collide>0</self_collide>
    <material>Gazebo/DarkGrey</material>
    <kp value="1000000.0"/>
    <kd value="100.0"/>
  </gazebo>
  <gazebo reference="LF_thigh">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <self_collide>0</self_collide>
    <material>Gazebo/DarkGrey</material>
    <kp value="1000000.0"/>
    <kd value="100.0"/>
  </gazebo>
  <gazebo reference="LH_thigh">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <self_collide>0</self_collide>
    <material>Gazebo/DarkGrey</material>
    <kp value="1000000.0"/>
    <kd value="100.0"/>
  </gazebo>
  <gazebo reference="RH_thigh">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <self_collide>0</self_collide>
    <material>Gazebo/DarkGrey</material>
    <kp value="1000000.0"/>
    <kd value="100.0"/>
  </gazebo>

  <xacro:property name="tibia_ix" value="0.16" />
  <xacro:property name="tibia_length" value="0.32" />
  <xacro:property name="tibia_radius" value="0.01" />

  <link name="RF_calf">
    <inertial>
      <mass value="0.151"/>
      <origin rpy="0 ${90/180*pi} 0" xyz="0.15 0.0 0"/>
      <inertia ixx="0.0008" ixy="0.0" ixz="0" iyy="0.0008" iyz="0.0" izz=".00001"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${tibia_ix} 0 0"/>
      <geometry>
        <cylinder length="${tibia_length}" radius="${tibia_radius}"/>
      </geometry>
    </collision>
    <visual name="RF_calf_visual">
      <origin rpy="0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_tibia.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>

  <link name="LF_calf">
    <inertial>
      <mass value="0.151"/>
      <origin rpy="0 ${90/180*pi} 0" xyz="0.15 0.0 0"/>
      <inertia ixx="0.0008" ixy="0.0" ixz="0" iyy="0.0008" iyz="0.0" izz=".00001"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${tibia_ix} 0 0"/>
      <geometry>
        <cylinder length="${tibia_length}" radius="${tibia_radius}"/>
      </geometry>
    </collision>
    <visual name="LF_calf_visual">
      <origin rpy="0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_tibia.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>

  <link name="LH_calf">
    <inertial>
      <mass value="0.151"/>
      <origin rpy="0 ${90/180*pi} 0" xyz="0.15 0.0 0"/>
      <inertia ixx="0.0008" ixy="0.0" ixz="0" iyy="0.0008" iyz="0.0" izz=".00001"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${tibia_ix} 0 0"/>
      <geometry>
        <cylinder length="${tibia_length}" radius="${tibia_radius}"/>
      </geometry>
    </collision>
    <visual name="LH_calf_visual">
      <origin rpy="0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_tibia.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>

  <link name="RH_calf">
    <inertial>
      <mass value="0.151"/>
      <origin rpy="0 ${90/180*pi} 0" xyz="0.15 0.0 0"/>
      <inertia ixx="0.0008" ixy="0.0" ixz="0" iyy="0.0008" iyz="0.0" izz=".00001"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${tibia_ix} 0 0"/>
      <geometry>
        <cylinder length="${tibia_length}" radius="${tibia_radius}"/>
      </geometry>
    </collision>
    <visual name="RH_calf_visual">
      <origin rpy="0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_tibia.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>
  
  <gazebo reference="RF_calf">
    <mu1>0.6</mu1>
    <mu2>0.6</mu2>
    <self_collide>1</self_collide>
  </gazebo>
  <gazebo reference="LF_calf">
    <mu1>0.6</mu1>
    <mu2>0.6</mu2>
    <self_collide>1</self_collide>
  </gazebo>
  <gazebo reference="LH_calf">
    <mu1>0.6</mu1>
    <mu2>0.6</mu2>
    <self_collide>1</self_collide>
  </gazebo>
  <gazebo reference="RH_calf">
    <mu1>0.6</mu1>
    <mu2>0.6</mu2>
    <self_collide>1</self_collide>
  </gazebo>
  
  <!--REAL FOOT SECTION 2/3 (COMMENT THIS IN, COMMENT BELOW OUT)-->
  
  <xacro:property name="foot_ix" value="0.01" />
  <xacro:property name="foot_length" value="0.16" />
  <xacro:property name="foot_radius" value="0.01" />
   
  <xacro:property name="foot_sphere_ix" value="0.12" />
  <xacro:property name="foot_sphere_radius" value="0.02" />
  
  <link name="RF_fut">
    <inertial>
      <mass value="0.0716"/> 
      <origin rpy="0.0 0.0 0.0" xyz="0.0528 -0.0 0.0"/>
      <inertia ixx="9.7391e-06" ixy="0.0" ixz="-0.0" iyy="4.80545e-05" iyz="0" izz="4.65431e-05"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${foot_ix} 0 0"/>
      <geometry>
        <cylinder length="${foot_length}" radius="${foot_radius}"/>
      </geometry>
    </collision>
    <visual name="RF_fut_visual">
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_foot.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.251 0.251 0.251 1.0"/>
      </material>
    </visual>
  </link>

  <link name="LF_fut">
    <inertial>
      <mass value="0.0716"/> 
      <origin rpy="0.0 0.0 0.0" xyz="0.0528 0.0 -0.0"/>
      <inertia ixx="9.7391e-06" ixy="0.0" ixz="-0.0" iyy="4.80545e-05" iyz="0" izz="4.65431e-05"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${foot_ix} 0 0"/>
      <geometry>
        <cylinder length="${foot_length}" radius="${foot_radius}"/>
      </geometry>
    </collision>
    <visual name="LF_fut_visual">
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_foot.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>

  <link name="LH_fut">
    <inertial>
      <mass value="0.0716"/> 
      <origin rpy="0.0 0.0 0.0" xyz="0.0528 0.0 -0.0"/>
      <inertia ixx="9.7391e-06" ixy="0.0" ixz="-0.0" iyy="4.80545e-05" iyz="0" izz="4.65431e-05"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${foot_ix} 0 0"/>
      <geometry>
        <cylinder length="${foot_length}" radius="${foot_radius}"/>
      </geometry>
    </collision>
    <visual name="LH_fut_visual">
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_foot.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>

  <link name="RH_fut">
    <inertial>
      <mass value="0.0716"/> 
      <origin rpy="0.0 0.0 0.0" xyz="0.0528 0.0 0.0"/>
      <inertia ixx="9.7391e-06" ixy="0.0" ixz="-0.0" iyy="4.80545e-05" iyz="0" izz="4.65431e-05"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${foot_ix} 0 0"/>
      <geometry>
        <cylinder length="${foot_length}" radius="${foot_radius}"/>
      </geometry>
    </collision>
    <visual name="RH_fut_visual">
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_foot.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>
  
  <gazebo reference="RF_fut">
    <mu1>0.6</mu1>
    <mu2>0.6</mu2>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="LF_fut">
    <mu1>0.6</mu1>
    <mu2>0.6</mu2>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="LH_fut">
    <mu1>0.6</mu1>
    <mu2>0.6</mu2>
    <material>Gazebo/DarkGrey</material>
  </gazebo>
  <gazebo reference="RH_fut">
    <mu1>0.6</mu1>
    <mu2>0.6</mu2>
    <material>Gazebo/DarkGrey</material>
  </gazebo>

  <link name="RF_FOOT">
    <inertial>
      <mass value="0.06"/>
      <inertia ixx="9.600000000000001e-06" ixy="0.0" ixz="0.0" iyy="9.600000000000001e-06" iyz="0.0" izz="9.600000000000001e-06"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="${foot_sphere_ix} 0 0"/>
      <geometry>
        <sphere radius="${foot_sphere_radius}"/>
      </geometry>
    </collision>
  </link>

  <link name="LF_FOOT">
    <inertial>
      <mass value="0.06"/>
      <inertia ixx="9.600000000000001e-06" ixy="0.0" ixz="0.0" iyy="9.600000000000001e-06" iyz="0.0" izz="9.600000000000001e-06"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="${foot_sphere_ix} 0 0"/>
      <geometry>
        <sphere radius="${foot_sphere_radius}"/>
      </geometry>
    </collision>
  </link>

  <link name="LH_FOOT">
    <inertial>
      <mass value="0.06"/>
      <inertia ixx="9.600000000000001e-06" ixy="0.0" ixz="0.0" iyy="9.600000000000001e-06" iyz="0.0" izz="9.600000000000001e-06"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="${foot_sphere_ix} 0 0"/>
      <geometry>
        <sphere radius="${foot_sphere_radius}"/>
      </geometry>
    </collision>
  </link>

  <link name="RH_FOOT">
    <inertial>
      <mass value="0.06"/>
      <inertia ixx="9.600000000000001e-06" ixy="0.0" ixz="0.0" iyy="9.600000000000001e-06" iyz="0.0" izz="9.600000000000001e-06"/>
    </inertial>
    <collision>
      <origin rpy="0 0 0" xyz="${foot_sphere_ix} 0 0"/>
      <geometry>
        <sphere radius="${foot_sphere_radius}"/>
      </geometry>
    </collision>
  </link>
  
  <gazebo reference="RF_FOOT">
    <mu1>0.9</mu1>
    <mu2>0.9</mu2>
    <self_collide>1</self_collide>
    <material>Gazebo/DarkGrey</material>
    <kp value="1000000.0"/>
    <kd value="100.0"/>
  </gazebo>
  <gazebo reference="LF_FOOT">
    <mu1>0.9</mu1>
    <mu2>0.9</mu2>
    <self_collide>1</self_collide>
    <material>Gazebo/DarkGrey</material>
    <kp value="1000000.0"/>
    <kd value="100.0"/>
  </gazebo>
  <gazebo reference="LH_FOOT">
    <mu1>0.9</mu1>
    <mu2>0.9</mu2>
    <self_collide>1</self_collide>
    <material>Gazebo/DarkGrey</material>
    <kp value="1000000.0"/>
    <kd value="100.0"/>
  </gazebo>
  <gazebo reference="RH_FOOT">
    <mu1>0.9</mu1>
    <mu2>0.9</mu2>
    <self_collide>1</self_collide>
    <material>Gazebo/DarkGrey</material>
    <kp value="1000000.0"/>
    <kd value="100.0"/>
  </gazebo>
  
  <!--CONTROL ROD SECTION 1/2-->
  <joint name="fr_control_rod" type="revolute">
    <parent link="RF_thigh"/>
    <child link="fr_fibula"/>
    <origin rpy="0 0.0 ${r_knee_ipos}"   xyz="0.12 0.0 -0.0431"/>
    <axis xyz="0.0 0.0 1.0" />
    <dynamics damping="${free_joint_damping}" friction="${free_joint_sfriction}"/>
    <limit effort="${efflim}" lower="${r_knee_lowlim}" upper="${r_knee_uplim}" velocity="8.7267"/>
  </joint>

  <joint name="fl_control_rod" type="revolute">
    <parent link="LF_thigh"/>
    <child link="fl_fibula"/>
    <origin rpy="0 0.0 ${l_knee_ipos}"   xyz="0.12 0.0 -0.0431"/>
    <axis xyz="0.0 0.0 1.0" />
    <dynamics damping="${free_joint_damping}" friction="${free_joint_sfriction}"/>
    <limit effort="${efflim}" lower="${l_knee_lowlim}" upper="${l_knee_uplim}" velocity="8.7267"/>
  </joint>

  <joint name="bl_control_rod" type="revolute">
    <parent link="LH_thigh"/>
    <child link="bl_fibula"/>
    <origin rpy="0 0.0 ${l_knee_ipos}"   xyz="0.12 0.0 -0.0431"/>
    <axis xyz="0.0 0.0 1.0" />
    <dynamics damping="${free_joint_damping}" friction="${free_joint_sfriction}"/>
    <limit effort="${efflim}" lower="${l_knee_lowlim}" upper="${l_knee_uplim}" velocity="8.7267"/>
  </joint>

  <joint name="br_control_rod" type="revolute">
    <parent link="RH_thigh"/>
    <child link="br_fibula"/>
    <origin rpy="0 0.0 ${r_knee_ipos}"   xyz="0.12 0.0 -0.0431"/>
    <axis xyz="0.0 0.0 1.0" />
    <dynamics damping="${free_joint_damping}" friction="${free_joint_sfriction}"/>
    <limit effort="${efflim}" lower="${r_knee_lowlim}" upper="${r_knee_uplim}" velocity="8.7267"/>
  </joint>

  <xacro:property name="fibula_ix" value="0.14" />
  <xacro:property name="fibula_length" value="0.24" />
  <xacro:property name="fibula_radius" value="0.01" />

  <link name="fr_fibula">
    <inertial>
      <mass value="0.0281"/> 
      <origin rpy="0.0 0.0 0.0" xyz="0.173 -0.0 -0.0001"/>
      <inertia ixx="1.2129e-06" ixy="-0.0" ixz="-4.5e-08" iyy="4.02491e-05" iyz="0.0" izz="4.07848e-05"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${fibula_ix} 0 0"/>
      <geometry>
        <cylinder length="${fibula_length}" radius="${fibula_radius}"/>
      </geometry>
    </collision>
    <visual name="fr_fibula_visual">
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_fibula.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>

  <link name="fl_fibula">
    <inertial>
      <mass value="0.0281"/> 
      <origin rpy="0.0 0.0 0.0" xyz="0.173 -0.0 -0.0001"/>
      <inertia ixx="1.2129e-06" ixy="-0.0" ixz="-4.5e-08" iyy="4.02491e-05" iyz="0.0" izz="4.07848e-05"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${fibula_ix} 0 0"/>
      <geometry>
        <cylinder length="${fibula_length}" radius="${fibula_radius}"/>
      </geometry>
    </collision>
    <visual name="fl_fibula_visual">
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_fibula.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>

  <link name="bl_fibula">
    <inertial>
      <mass value="0.0281"/> 
      <origin rpy="0.0 0.0 0.0" xyz="0.173 -0.0 -0.0001"/>
      <inertia ixx="1.2129e-06" ixy="-0.0" ixz="-4.5e-08" iyy="4.02491e-05" iyz="0.0" izz="4.07848e-05"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${fibula_ix} 0 0"/>
      <geometry>
        <cylinder length="${fibula_length}" radius="${fibula_radius}"/>
      </geometry>
    </collision>
    <visual name="bl_fibula_visual">
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_fibula.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>

  <link name="br_fibula">
    <inertial>
      <mass value="0.0281"/> 
      <origin rpy="0.0 0.0 0.0" xyz="0.173 -0.0 -0.0001"/>
      <inertia ixx="1.2129e-06" ixy="-0.0" ixz="0" iyy="4.02491e-05" iyz="0.0" izz="4.07848e-05"/>
    </inertial>
    <collision>
      <origin rpy="0.0 1.5708 0.0" xyz="${fibula_ix} 0 0"/>
      <geometry>
        <cylinder length="${fibula_length}" radius="${fibula_radius}"/>
      </geometry>
    </collision>
    <visual name="br_fibula_visual">
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://husky_description/meshes/fr_fibula.STL" scale="1 1 1"/>
      </geometry>
      <material name="">
        <color rgba="0.298 0.298 0.298 1.0"/>
      </material>
    </visual>
  </link>
  -->
  <!--CONTROL ROD SECTION END-->
  
  <transmission name="RF_HAA_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="RF_HAA">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="RF_HAA_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="LF_HAA_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="LF_HAA">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="LF_HAA_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="LH_HAA_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="LH_HAA">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="LH_HAA_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
 <transmission name="RH_HAA_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="RH_HAA">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="RH_HAA_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  
 <transmission name="RF_HFE_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="RF_HFE">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="RF_HFE_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="LF_HFE_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="LF_HFE">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="LF_HFE_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="LH_HFE_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="LH_HFE">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="LH_HFE_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="RH_HFE_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="RH_HFE">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="RH_HFE_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
 
  
  <transmission name="RF_KFE_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="RF_KFE">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="RF_KFE_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="LF_KFE_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="LF_KFE">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="LF_KFE_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="LH_KFE_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="LH_KFE">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="LH_KFE_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="RH_KFE_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="RH_KFE">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="RH_KFE_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <!--REAL FOOT SECTION 3/3-->
  <transmission name="RF_ankle_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="RF_ankle">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="RF_ankle_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="LF_ankle_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="LF_ankle">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="LF_ankle_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="LH_ankle_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="LH_ankle">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="LH_ankle_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="RH_ankle_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="RH_ankle">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="RH_ankle_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  -->
  <!--REAL FOOT SECTION END-->
  
  <!--CONTROL ROD SECTION 2/2-->
  <transmission name="fr_rod_joint_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="fr_control_rod">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="fr_rod_joint_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="fl_rod_joint_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="fl_control_rod">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="fl_rod_joint_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="bl_rod_joint_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="bl_control_rod">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="bl_rod_joint_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="br_rod_joint_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="br_control_rod">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="br_rod_joint_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  -->
  <!--CONTROL ROD SECTION END-->

  
  <gazebo>
  <plugin name="RF_foot_fixed_mimic" filename="libroboticsgroup_gazebo_mimic_joint_plugin.so">
    <joint>RF_KFE</joint>
    <mimicJoint>RF_ankle</mimicJoint>
    <has_pid>"false"</has_pid>
    <multiplier>-1</multiplier>
    <offset>0</offset>
    <sensitiveness>0</sensitiveness>
    <maxEffort>15</maxEffort> 
    <robotNamespace>/</robotNamespace>
  </plugin>
  
  <plugin name="LF_foot_fixed_mimic" filename="libroboticsgroup_gazebo_mimic_joint_plugin.so">
    <joint>LF_KFE</joint>
    <mimicJoint>LF_ankle</mimicJoint>
    <has_pid>"false"</has_pid>
    <multiplier>-1</multiplier>
    <offset>0</offset>
    <sensitiveness>0</sensitiveness>
    <maxEffort>15</maxEffort> 
    <robotNamespace>/</robotNamespace>
  </plugin>
  
  <plugin name="RH_foot_fixed_mimic" filename="libroboticsgroup_gazebo_mimic_joint_plugin.so">
    <joint>RH_KFE</joint>
    <mimicJoint>RH_ankle</mimicJoint>
    <has_pid>"false"</has_pid>
    <multiplier>-1</multiplier>
    <offset>0</offset>
    <sensitiveness>0</sensitiveness>
    <maxEffort>15</maxEffort> 
    <robotNamespace>/</robotNamespace>
  </plugin>
  
  <plugin name="LH_foot_fixed_mimic" filename="libroboticsgroup_gazebo_mimic_joint_plugin.so">
    <joint>LH_KFE</joint>
    <mimicJoint>LH_ankle</mimicJoint>
    <has_pid>"false"</has_pid>
    <multiplier>-1</multiplier>
    <offset>0</offset>
    <sensitiveness>0</sensitiveness>
    <maxEffort>15</maxEffort> 
    <robotNamespace>/</robotNamespace>
  </plugin>
  
  <plugin name="fr_control_rod_mimic" filename="libroboticsgroup_gazebo_mimic_joint_plugin.so">
    <joint>RF_KFE</joint>
    <mimicJoint>fr_control_rod</mimicJoint>
    <has_pid>"false"</has_pid>
    <multiplier>1</multiplier>
    <offset>0</offset>
    <sensitiveness>0</sensitiveness>
    <maxEffort>15</maxEffort> 
    <robotNamespace>/</robotNamespace>
  </plugin>
  
  <plugin name="fl_control_rod_mimic" filename="libroboticsgroup_gazebo_mimic_joint_plugin.so">
    <joint>LF_KFE</joint>
    <mimicJoint>fl_control_rod</mimicJoint>
    <has_pid>"false"</has_pid>
    <multiplier>1</multiplier>
    <offset>0</offset>
    <sensitiveness>0</sensitiveness>
    <maxEffort>15</maxEffort> 
    <robotNamespace>/</robotNamespace>
  </plugin>
  
  <plugin name="br_control_rod_mimic" filename="libroboticsgroup_gazebo_mimic_joint_plugin.so">
    <joint>RH_KFE</joint>
    <mimicJoint>br_control_rod</mimicJoint>
    <has_pid>"false"</has_pid>
    <multiplier>1</multiplier>
    <offset>0</offset>
    <sensitiveness>0</sensitiveness>
    <maxEffort>15</maxEffort> 
    <robotNamespace>/</robotNamespace>
  </plugin>
  
  <plugin name="bl_control_rod_mimic" filename="libroboticsgroup_gazebo_mimic_joint_plugin.so">
    <joint>LH_KFE</joint>
    <mimicJoint>bl_control_rod</mimicJoint>
    <has_pid>"false"</has_pid>
    <multiplier>1</multiplier>
    <offset>0</offset>
    <sensitiveness>0</sensitiveness>
    <maxEffort>15</maxEffort> 
    <robotNamespace>/</robotNamespace>
  </plugin>
</gazebo>

<!--ARDUCOPTER-->
<xacro:property name="blade_x_disp_front" value="0.141" />
<xacro:property name="blade_x_disp_back" value="0.125" />
<xacro:property name="blade_y_disp" value="0.189" />
<xacro:property name="blade_z_disp" value="0.1" />

<!--fake blades-->
  <link
    name="fake_front_right_blade">
    <inertial>
      <origin
        xyz="0 0 0.004"
        rpy="0 0 0" />
      <mass
        value="0.0061" />
      <inertia ixx="9.75e-08" ixy="0" ixz="0" iyy="1.67e-06" iyz="0" izz="1.67e-06"/>
    </inertial>
  </link>
  <link
    name="fake_front_left_blade">
    <inertial>
      <origin
        xyz="0 0 0.004"
        rpy="0 0 0" />
      <mass
        value="0.0061" />
      <inertia ixx="9.75e-08" ixy="0" ixz="0" iyy="1.67e-06" iyz="0" izz="1.67e-06"/>
    </inertial>
  </link>
  <link
    name="fake_rear_left_blade">
    <inertial>
      <origin
        xyz="0 0 0.004"
        rpy="0 0 0" />
      <mass
        value="0.0061" />
      <inertia ixx="9.75e-08" ixy="0" ixz="0" iyy="1.67e-06" iyz="0" izz="1.67e-06"/>
    </inertial>
  </link>
  <link
    name="fake_rear_right_blade">
    <inertial>
      <origin
        xyz="0 0 0.004"
        rpy="0 0 0" />
      <mass
        value="0.0061" />
      <inertia ixx="9.75e-08" ixy="0" ixz="0" iyy="1.67e-06" iyz="0" izz="1.67e-06"/>
    </inertial>
  </link>

  <joint
    name="fake_front_right_blade_joint"
    type="revolute">
    <origin
      xyz="${blade_x_disp_front} ${-blade_y_disp} ${blade_z_disp}"
      rpy="0 0 0" />
    <parent
      link="base" />
    <child
      link="fake_front_right_blade" />
    <axis
      xyz="0 0 1" />
    <limit lower="-1e+16" upper="1e+16" effort="10000" velocity="10000"/>
  </joint>

  <joint
    name="fake_front_left_blade_joint"
    type="revolute">
    <origin
      xyz="${blade_x_disp_front} ${blade_y_disp} ${blade_z_disp}"
      rpy="0 0 0" />
    <parent
      link="base" />
    <child
      link="fake_front_left_blade" />
    <axis
      xyz="0 0 1" />
    <limit lower="-1e+16" upper="1e+16" effort="10000" velocity="10000"/>
  </joint>

  <joint
    name="fake_rear_left_blade_joint"
    type="revolute">
    <origin
      xyz="${-blade_x_disp_back} ${blade_y_disp} ${blade_z_disp}"
      rpy="0 0 0" />
    <parent
      link="base" />
    <child
      link="fake_rear_left_blade" />
    <axis
      xyz="0 0 1" />
    <limit lower="-1e+16" upper="1e+16" effort="10000" velocity="10000"/>
  </joint>

  <joint
    name="fake_rear_right_blade_joint"
    type="revolute">
    <origin
      xyz="${-blade_x_disp_back} ${-blade_y_disp} ${blade_z_disp}"
      rpy="0 0 0" />
    <parent
      link="base" />
    <child
      link="fake_rear_right_blade" />
    <axis
      xyz="0 0 1" />
    <limit lower="-1e+16" upper="1e+16" effort="10000" velocity="10000"/>  
  </joint>

<!--center of pressure, 0.084-->
<xacro:property name="c_o_p" value="0.084" />

<!--plugins-->
<gazebo>
  <plugin name="rotor_0_blade_1" filename="libLiftDragPlugin.so">
    <a0>0.3</a0>
    <alpha_stall>1.4</alpha_stall>
    <cla>4.2500</cla>
    <cda>0.10</cda>
    <cma>0.00</cma>
    <cla_stall>-0.025</cla_stall>
    <cda_stall>0.0</cda_stall>
    <cma_stall>0.0</cma_stall>
    <area>0.002</area>
    <air_density>1.2041</air_density>
    <cp>${c_o_p} 0 0</cp>
    <forward>0 1 0</forward>
    <upward>0 0 1</upward>
    <link_name>fake_front_right_blade</link_name>
  </plugin>
  <plugin name="rotor_0_blade_2" filename="libLiftDragPlugin.so">
    <a0>0.3</a0>
    <alpha_stall>1.4</alpha_stall>
    <cla>4.2500</cla>
    <cda>0.10</cda>
    <cma>0.00</cma>
    <cla_stall>-0.025</cla_stall>
    <cda_stall>0.0</cda_stall>
    <cma_stall>0.0</cma_stall>
    <area>0.002</area>
    <air_density>1.2041</air_density>
    <cp>-${c_o_p} 0 0</cp>
    <forward>0 -1 0</forward>
    <upward>0 0 1</upward>
    <link_name>fake_front_right_blade</link_name>
  </plugin>

  <plugin name="rotor_1_blade_1" filename="libLiftDragPlugin.so">
    <a0>0.3</a0>
    <alpha_stall>1.4</alpha_stall>
    <cla>4.2500</cla>
    <cda>0.10</cda>
    <cma>0.00</cma>
    <cla_stall>-0.025</cla_stall>
    <cda_stall>0.0</cda_stall>
    <cma_stall>0.0</cma_stall>
    <area>0.002</area>
    <air_density>1.2041</air_density>
    <cp>${c_o_p} 0 0</cp>
    <forward>0 1 0</forward>
    <upward>0 0 1</upward>
    <link_name>fake_rear_left_blade</link_name>
  </plugin>
  <plugin name="rotor_1_blade_2" filename="libLiftDragPlugin.so">
    <a0>0.3</a0>
    <alpha_stall>1.4</alpha_stall>
    <cla>4.2500</cla>
    <cda>0.10</cda>
    <cma>0.00</cma>
    <cla_stall>-0.025</cla_stall>
    <cda_stall>0.0</cda_stall>
    <cma_stall>0.0</cma_stall>
    <area>0.002</area>
    <air_density>1.2041</air_density>
    <cp>-${c_o_p} 0 0</cp>
    <forward>0 -1 0</forward>
    <upward>0 0 1</upward>
    <link_name>fake_rear_left_blade</link_name>
  </plugin>

  <plugin name="rotor_2_blade_1" filename="libLiftDragPlugin.so">
    <a0>0.3</a0>
    <alpha_stall>1.4</alpha_stall>
    <cla>4.2500</cla>
    <cda>0.10</cda>
    <cma>0.00</cma>
    <cla_stall>-0.025</cla_stall>
    <cda_stall>0.0</cda_stall>
    <cma_stall>0.0</cma_stall>
    <area>0.002</area>
    <air_density>1.2041</air_density>
    <cp>${c_o_p} 0 0</cp>
    <forward>0 -1 0</forward>
    <upward>0 0 1</upward>
    <link_name>fake_front_left_blade</link_name>
  </plugin>
  <plugin name="rotor_2_blade_2" filename="libLiftDragPlugin.so">
    <a0>0.3</a0>
    <alpha_stall>1.4</alpha_stall>
    <cla>4.2500</cla>
    <cda>0.10</cda>
    <cma>0.00</cma>
    <cla_stall>-0.025</cla_stall>
    <cda_stall>0.0</cda_stall>
    <cma_stall>0.0</cma_stall>
    <area>0.002</area>
    <air_density>1.2041</air_density>
    <cp>-${c_o_p} 0 0</cp>
    <forward>0 1 0</forward>
    <upward>0 0 1</upward>
    <link_name>fake_front_left_blade</link_name>
  </plugin>

  <plugin name="rotor_3_blade_1" filename="libLiftDragPlugin.so">
    <a0>0.3</a0>
    <alpha_stall>1.4</alpha_stall>
    <cla>4.2500</cla>
    <cda>0.10</cda>
    <cma>0.00</cma>
    <cla_stall>-0.025</cla_stall>
    <cda_stall>0.0</cda_stall>
    <cma_stall>0.0</cma_stall>
    <area>0.002</area>
    <air_density>1.2041</air_density>
    <cp>${c_o_p} 0 0</cp>
    <forward>0 -1 0</forward>
    <upward>0 0 1</upward>
    <link_name>fake_rear_right_blade</link_name>
  </plugin>
  <plugin name="rotor_3_blade_2" filename="libLiftDragPlugin.so">
    <a0>0.3</a0>
    <alpha_stall>1.4</alpha_stall>
    <cla>4.2500</cla>
    <cda>0.10</cda>
    <cma>0.00</cma>
    <cla_stall>-0.025</cla_stall>
    <cda_stall>0.0</cda_stall>
    <cma_stall>0.0</cma_stall>
    <area>0.002</area>
    <air_density>1.2041</air_density>
    <cp>-${c_o_p} 0 0</cp>
    <forward>0 1 0</forward>
    <upward>0 0 1</upward>
    <link_name>fake_rear_right_blade</link_name>
  </plugin>

   <!--multiplier 1898, pid 0.2 0 0 -->
  <xacro:property name="arducop_multiplier" value="1898" />
  <xacro:property name="arducop_p" value="0.2" />
  <xacro:property name="arducop_i" value="0" />
  <xacro:property name="arducop_d" value="0" />

  <plugin name="arducopter_plugin" filename="libArduPilotPlugin.so">
      <fdm_addr>127.0.0.1</fdm_addr>
      <fdm_port_in>9002</fdm_port_in>
      <fdm_port_out>9003</fdm_port_out>
      <!--
          Require by APM :
          Only change model and gazebo from XYZ to XY-Z coordinates
      -->
      <modelXYZToAirplaneXForwardZDown>0 0 0 3.141593 0 0</modelXYZToAirplaneXForwardZDown>
      <gazeboXYZToNED>0 0 0 3.141593 0 0</gazeboXYZToNED>
      <imuName>hussain_imu::imu_sensor</imuName>
      <connectionTimeoutMaxCount>5</connectionTimeoutMaxCount>
      <control channel="0">
      <!--
          incoming control command [0, 1]
          so offset it by 0 to get [0, 1]
          and divide max target by 1.
          offset = 0
          multiplier = 838 max rpm / 1 = 838
        -->
        <type>VELOCITY</type>
        <offset>0</offset>
        <p_gain>${arducop_p}</p_gain>
        <i_gain>${arducop_i}</i_gain>
        <d_gain>${arducop_d}</d_gain>
        <i_max>0</i_max>
        <i_min>0</i_min>
        <cmd_max>2.5</cmd_max>
        <cmd_min>-2.5</cmd_min>
        <jointName>fake_front_right_blade_joint</jointName>
        <multiplier>${arducop_multiplier}</multiplier>
        <controlVelocitySlowdownSim>1</controlVelocitySlowdownSim>
      </control>
      <control channel="1">
        <type>VELOCITY</type>
        <offset>0</offset>
        <p_gain>${arducop_p}</p_gain>
        <i_gain>${arducop_i}</i_gain>
        <d_gain>${arducop_d}</d_gain>
        <i_max>0</i_max>
        <i_min>0</i_min>
        <cmd_max>2.5</cmd_max>
        <cmd_min>-2.5</cmd_min>
        <jointName>fake_rear_left_blade_joint</jointName>
        <multiplier>${arducop_multiplier}</multiplier>
        <controlVelocitySlowdownSim>1</controlVelocitySlowdownSim>
      </control>
      <control channel="2">
        <type>VELOCITY</type>
        <offset>0</offset>
        <p_gain>${arducop_p}</p_gain>
        <i_gain>${arducop_i}</i_gain>
        <d_gain>${arducop_d}</d_gain>
        <i_max>0</i_max>
        <i_min>0</i_min>
        <cmd_max>2.5</cmd_max>
        <cmd_min>-2.5</cmd_min>
        <jointName>fake_front_left_blade_joint</jointName>
        <multiplier>-${arducop_multiplier}</multiplier>
        <controlVelocitySlowdownSim>1</controlVelocitySlowdownSim>
      </control>
      <control channel="3">
        <type>VELOCITY</type>
        <offset>0</offset>
        <p_gain>${arducop_p}</p_gain>
        <i_gain>${arducop_i}</i_gain>
        <d_gain>${arducop_d}</d_gain>
        <i_max>0</i_max>
        <i_min>0</i_min>
        <cmd_max>2.5</cmd_max>
        <cmd_min>-2.5</cmd_min>
        <jointName>fake_rear_right_blade_joint</jointName>
        <multiplier>-${arducop_multiplier}</multiplier>
        <controlVelocitySlowdownSim>1</controlVelocitySlowdownSim>
      </control>
    </plugin>

  </gazebo>
  

</robot>
